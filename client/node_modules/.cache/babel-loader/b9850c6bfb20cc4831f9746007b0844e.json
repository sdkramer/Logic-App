{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/whitebear/Sean/Projects-Personal/LogicApp/client/src/components/Login.js\";\nimport Axios from \"axios\";\nimport React from \"react\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      credentials: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        credentials: { ...this.state.credentials,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.login = e => {\n      e.preventDefault();\n      Axios.post('http://localhost:4000/login', this.state.credentials).then(res => {\n        localStorage.setItem('token', res.data.payload);\n        this.props.history.push('/protected');\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.logout = e => {\n      e.preventDefault();\n      localStorage.setItem('token', '');\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.login,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          value: this.state.credentials.username,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"password\",\n          value: this.state.credentials.password,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.logout,\n        children: \"Log out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 1\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/whitebear/Sean/Projects-Personal/LogicApp/client/src/components/Login.js"],"names":["Axios","React","Login","Component","state","credentials","username","password","handleChange","e","setState","target","name","value","login","preventDefault","post","then","res","localStorage","setItem","data","payload","props","history","push","catch","err","console","log","logout","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAN,SAAoBD,KAAK,CAACE,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAClCC,KADkC,GAC1B;AACNC,MAAAA,WAAW,EAAE;AACXC,QAAAA,QAAQ,EAAE,EADC;AAEXC,QAAAA,QAAQ,EAAE;AAFC;AADP,KAD0B;;AAAA,SAQlCC,YARkC,GAQlBC,CAAD,IAAO;AACpB,WAAKC,QAAL,CAAc;AACZL,QAAAA,WAAW,EAAE,EACX,GAAG,KAAKD,KAAL,CAAWC,WADH;AAEX,WAACI,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAFf;AADD,OAAd;AAMD,KAfiC;;AAAA,SAiBlCC,KAjBkC,GAiBzBL,CAAD,IAAO;AACbA,MAAAA,CAAC,CAACM,cAAF;AACAf,MAAAA,KAAK,CAACgB,IAAN,CAAW,6BAAX,EAA0C,KAAKZ,KAAL,CAAWC,WAArD,EAAkEY,IAAlE,CAAwEC,GAAD,IAAS;AACpFC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACG,IAAJ,CAASC,OAAvC;AACA,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACK,OAHD,EAICC,KAJD,CAIQC,GAAD,IAAS;AAACC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAkB,OAJnC;AAKD,KAxBiC;;AAAA,SA0BlCG,MA1BkC,GA0BxBrB,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACM,cAAF;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8B,EAA9B;AACD,KA7BiC;AAAA;;AA+BlCW,EAAAA,MAAM,GAAG;AACP,wBACJ;AAAA,8BACM;AAAM,QAAA,QAAQ,EAAE,KAAKjB,KAArB;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,KAAK,EAAE,KAAKV,KAAL,CAAWC,WAAX,CAAuBC,QAHhC;AAIE,UAAA,QAAQ,EAAE,KAAKE;AAJjB;AAAA;AAAA;AAAA;AAAA,gBAFF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eASE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,WAAX,CAAuBE,QAHhC;AAIE,UAAA,QAAQ,EAAE,KAAKC;AAJjB;AAAA;AAAA;AAAA;AAAA,gBATF,eAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfF;AAAA;AAAA;AAAA;AAAA;AAAA,cADN,eAkBM;AAAQ,QAAA,OAAO,EAAE,KAAKsB,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBN;AAAA;AAAA;AAAA;AAAA;AAAA,YADI;AAuBD;;AAvDiC;;AA0DpC,eAAe5B,KAAf","sourcesContent":["import Axios from \"axios\";\nimport React from \"react\";\n\nclass Login extends React.Component {\n  state = {\n    credentials: {\n      username: \"\",\n      password: \"\",\n    },\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      credentials: {\n        ...this.state.credentials,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n\n  login = (e) => {\n    e.preventDefault();\n    Axios.post('http://localhost:4000/login', this.state.credentials).then((res) => {\nlocalStorage.setItem('token', res.data.payload);\nthis.props.history.push('/protected')\n    })\n    .catch((err) => {console.log(err);})\n  };\n\n  logout = (e) => {\n    e.preventDefault();\n    localStorage.setItem('token', '')\n  }\n\n  render() {\n    return(\n<div>\n      <form onSubmit={this.login}>\n        <label>Username</label>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={this.state.credentials.username}\n          onChange={this.handleChange}\n        />\n        <label>Password</label>\n        <input\n          type=\"text\"\n          name=\"password\"\n          value={this.state.credentials.password}\n          onChange={this.handleChange}\n        />\n        <button>Log in</button>\n      </form>\n      <button onClick={this.logout}>Log out</button>\n    </div>\n    )\n    \n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}